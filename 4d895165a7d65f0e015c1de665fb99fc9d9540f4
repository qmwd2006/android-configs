{
  "comments": [
    {
      "key": {
        "uuid": "8d2bd938_84bed722",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-09-17T19:46:00Z",
      "side": 1,
      "message": "O and O-MR1",
      "range": {
        "startLine": 7,
        "startChar": 51,
        "endLine": 7,
        "endChar": 52
      },
      "revId": "4d895165a7d65f0e015c1de665fb99fc9d9540f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d90ee2be_87627591",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1604275
      },
      "writtenOn": "2020-09-15T23:01:01Z",
      "side": 1,
      "message": "Sandeep,\n\nWhen you have a chance, can you help to review this CL?\nThanks,\n\nJeff",
      "revId": "4d895165a7d65f0e015c1de665fb99fc9d9540f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "42ad3b33_a2435b74",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1157738
      },
      "writtenOn": "2020-09-16T23:58:29Z",
      "side": 1,
      "message": "Looks like these files are for O, not P release. Also I\u0027m not sure if retroactive changes like these are ok. Adding Alistair and Ram to confirm.",
      "revId": "4d895165a7d65f0e015c1de665fb99fc9d9540f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a0b9ccf_10f35daf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1131915
      },
      "writtenOn": "2020-09-17T00:14:59Z",
      "side": 1,
      "message": "This should be fine AFAIK, assuming devices upgrading from O/O-MR1 to P do not in fact need CONFIG_ANDROID_LOW_MEMORY_KILLER. Retroactive changes are okay when requirements are being loosened.",
      "revId": "4d895165a7d65f0e015c1de665fb99fc9d9540f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f6bb5e98_b5e1bd0c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1157738
      },
      "writtenOn": "2020-09-17T00:26:25Z",
      "side": 1,
      "message": "Gotcha. I think we need something like this: https://android-review.googlesource.com/c/kernel/configs/+/1352887 which would also allow CONFIG_ANDROID_LOW_MEMORY_KILLER.\n\nPatch description should also clarify if this change is for P, O or both.",
      "parentUuid": "7a0b9ccf_10f35daf",
      "revId": "4d895165a7d65f0e015c1de665fb99fc9d9540f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "870b61ed_c3ed2f8f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1101326
      },
      "writtenOn": "2020-09-17T19:37:22Z",
      "side": 1,
      "message": "(Para-posting on b/113836751 in case feedback there is more desirable.)\n\nThanks for the feedback Suren.  android-base-conditional.xml does not exist in P.  Shall the mechanism be retroactively introduced to P?\n\nThe test script in question in P (https://android.googlesource.com/platform/test/vts-testcase/kernel/+/pie-vts-dev/config/VtsKernelConfigTest.py) does not read android-base-conditional.xml, but it does have an explicit check that \"CONFIG_ANDROID_LOW_MEMORY_KILLER | (CONFIG_MEMCG | CONFIG_PSI)\" are mutually exclusive from the test stand point (https://android.googlesource.com/platform/test/vts-testcase/kernel/+/pie-vts-dev/config/VtsKernelConfigTest.py#230).\n\n\u003e Patch description should also clarify if this change is for P, O or both.\nThis change is specifically for Android P, intended for devices launched prior to P with userspace lmkd enabled (and hence kernel lmk disabled).  P-launched devices do not have this problem because CONFIG_ANDROID_LOW_MEMORY_KILLER is already not mandated there.  (I am happy to update the description to further clarify this point, just let me know.)\n\nThanks!",
      "parentUuid": "f6bb5e98_b5e1bd0c",
      "revId": "4d895165a7d65f0e015c1de665fb99fc9d9540f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d2898d4_67a494ab",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1157738
      },
      "writtenOn": "2020-09-17T19:45:09Z",
      "side": 1,
      "message": "I think modifying https://android.googlesource.com/platform/test/vts-testcase/kernel/+/pie-vts-dev/config/VtsKernelConfigTest.py to require CONFIG_ANDROID_LOW_MEMORY_KILLER | (CONFIG_MEMCG \u0026 CONFIG_MEMCG_SWAP) | CONFIG_PSI would do the trick. Currently the check implements CONFIG_ANDROID_LOW_MEMORY_KILLER | (CONFIG_MEMCG \u0026 CONFIG_MEMCG_SWAP) condition, so you would only need to add CONFIG_PSI. After that modification I think you can safely remove CONFIG_ANDROID_LOW_MEMORY_KILLER from android-base.cfg",
      "parentUuid": "870b61ed_c3ed2f8f",
      "revId": "4d895165a7d65f0e015c1de665fb99fc9d9540f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}